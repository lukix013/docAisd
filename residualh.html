<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>residual.h â€“ Dokumentacja</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
</head>
<body>
  <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
    <div class="container-fluid">
      <a class="navbar-brand" href="index.html">â† PowrÃ³t do strony gÅ‚Ã³wnej</a>
      <span class="navbar-text ms-auto">Plik: <code>residual.h</code></span>
    </div>
  </nav>

  <div class="container mt-4">
    <h1 class="mb-4">ğŸ“„ Plik: <code>residual.h</code></h1>
    <p>Definicje struktur i klasy do obsÅ‚ugi sieci residualnej wykorzystywanej do algorytmÃ³w przepÅ‚ywowych (<code>max flow</code> i <code>min cost flow</code>).</p>

    <h3>Struktura <code>Edge</code></h3>
    <ul>
      <li><code>int from</code> â€“ wierzchoÅ‚ek poczÄ…tkowy krawÄ™dzi.</li>
      <li><code>int to</code> â€“ wierzchoÅ‚ek koÅ„cowy krawÄ™dzi.</li>
      <li><code>int capacity</code> â€“ przepustowoÅ›Ä‡ krawÄ™dzi.</li>
      <li><code>int flow</code> â€“ aktualny przepÅ‚yw na krawÄ™dzi.</li>
      <li><code>int repairCost</code> â€“ koszt naprawy, uÅ¼ywany jako koszt przepÅ‚ywu.</li>
      <li><code>Edge* reverse</code> â€“ wskaÅºnik do krawÄ™dzi odwrotnej (rewersyjnej).</li>
      <li><code>Edge(int from, int to, int capacity, int repairCost = 0)</code> â€“ konstruktor.</li>
    </ul>

    <h3>Klasa <code>ResidualNetwork</code></h3>
    <p>Reprezentuje sieÄ‡ residualnÄ… dla grafu skierowanego z funkcjami dodawania krawÄ™dzi, oraz obliczania maksymalnego przepÅ‚ywu i minimalnego kosztu maksymalnego przepÅ‚ywu.</p>

    <h4>Publiczne metody i pola:</h4>
    <ul>
      <li><code>ResidualNetwork(int vertices)</code> â€“ konstruktor, inicjalizuje sieÄ‡ z podanÄ… liczbÄ… wierzchoÅ‚kÃ³w.</li>
      <li><code>void addEdge(int from, int to, int capacity)</code> â€“ dodaje krawÄ™dÅº bez kosztu.</li>
      <li><code>void addEdge(int from, int to, int capacity, int repairCost)</code> â€“ dodaje krawÄ™dÅº z okreÅ›lonym kosztem.</li>
      <li><code>int maxFlow(int source, int sink)</code> â€“ oblicza maksymalny przepÅ‚yw w sieci.</li>
      <li><code>std::pair&lt;int, int&gt; minCostMaxFlow(int source, int sink)</code> â€“ zwraca parÄ™ (maksymalny przepÅ‚yw, minimalny koszt).</li>
      <li><code>void setCoordinates(int vertex, Point p)</code> â€“ ustawia wspÃ³Å‚rzÄ™dne punktu dla danego wierzchoÅ‚ka.</li>
      <li><code>void printCoordinates()</code> â€“ wypisuje wspÃ³Å‚rzÄ™dne wszystkich wierzchoÅ‚kÃ³w.</li>
      <li><code>std::vector&lt;std::vector&lt;Edge*&gt;&gt; adjList</code> â€“ lista sÄ…siedztwa zawierajÄ…ca wskaÅºniki do krawÄ™dzi.</li>
      <li><code>std::unordered_map&lt;int, Point&gt; coordinates</code> â€“ mapa wierzchoÅ‚kÃ³w do ich wspÃ³Å‚rzÄ™dnych.</li>
    </ul>

    <h4>Prywatne metody i pola:</h4>
    <ul>
      <li><code>int vertices</code> â€“ liczba wierzchoÅ‚kÃ³w w grafie.</li>
      <li><code>bool bfs(int source, int sink, std::vector&lt;Edge*&gt;&amp; parent)</code> â€“ pomocnicza metoda wyszukujÄ…ca Å›cieÅ¼kÄ™ powiÄ™kszajÄ…cÄ… dla <code>maxFlow</code>.</li>
      <li><code>bool bellmanFord(int source, int sink, std::vector&lt;Edge*&gt;&amp; parent)</code> â€“ wyszukuje najtaÅ„sze Å›cieÅ¼ki (w kontekÅ›cie kosztÃ³w).</li>
      <li><code>bool findNegativeCycle(std::vector&lt;Edge*&gt; &amp;cycle)</code> â€“ wykrywa ujemne cykle w sieci.</li>
      <li><code>void cancelNegativeCycles()</code> â€“ anuluje ujemne cykle, zwiÄ™kszajÄ…c przepÅ‚yw.</li>
    </ul>

    <h3>Uwagi techniczne</h3>
    <ul>
      <li>Konstruktor <code>Edge</code> umoÅ¼liwia domyÅ›lne ustawienie <code>repairCost</code> na 0.</li>
      <li>Lista <code>adjList</code> przechowuje dynamiczne wskaÅºniki na obiekty <code>Edge</code>.</li>
      <li>Algorytmy zakÅ‚adajÄ… poprawnoÅ›Ä‡ danych.</li>
    </ul>
  </div>

  <footer class="bg-light text-center py-3 mt-5">
    <small>&copy; 2025 Projekt Na AiSD II. Wszelkie prawa zastrzeÅ¼one.</small>
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
